# MT5 EA脚本配置指南

## 脚本说明

`SimpleTestEA.mq5` 是一个简单的MT5专家顾问（EA）测试脚本，专门用于US100.cash交易品种。这个脚本仅用于测试目的，包含基本的买卖逻辑。

## 脚本功能

- **自动交易**: 每100个tick执行一次买入操作
- **风险管理**: 包含止损和止盈设置
- **自动平仓**: 持仓50个tick后自动平仓
- **专用品种**: 针对US100.cash优化

## MT5中配置EA脚本步骤

### 1. 安装EA脚本

1. 打开MetaTrader 5
2. 按 `F4` 键打开MetaEditor编辑器
3. 在MetaEditor中：
   - 点击 `文件` → `新建`
   - 选择 `Expert Advisor (template)`
   - 输入名称：`SimpleTestEA`
   - 点击 `下一步` → `完成`
4. 删除生成的模板代码，复制粘贴 `SimpleTestEA.mq5` 的完整代码
5. 按 `F7` 编译代码，确保没有错误
6. 关闭MetaEditor

### 2. 在MT5中启用EA

1. 在MT5主界面，确保启用算法交易：
   - 点击工具栏上的 `算法交易` 按钮（绿色按钮）
   - 或者按 `Ctrl+E`

2. 在市场观察窗口中添加US100.cash：
   - 右键点击市场观察窗口
   - 选择 `品种` → 搜索 `US100` 或 `US100.cash`
   - 双击添加到市场观察列表

### 3. 将EA附加到图表

1. 打开US100.cash的图表：
   - 在市场观察中双击US100.cash
   - 或者拖拽到图表区域

2. 附加EA到图表：
   - 在导航器窗口中找到 `专家顾问` → `SimpleTestEA`
   - 双击或拖拽到US100.cash图表上

3. 在弹出的设置窗口中：

#### 常用选项卡：
- **交易手数 (LotSize)**: 0.01 (建议从小手数开始测试)
- **魔术数字 (MagicNumber)**: 12345 (用于识别EA的订单)
- **止损点数 (StopLoss)**: 100 (100点止损)
- **止盈点数 (TakeProfit)**: 200 (200点止盈)
- **交易品种 (TradeSymbol)**: "US100.cash"

#### 通用选项卡：
- **允许算法交易**: ☑️ 勾选
- **允许DLL导入**: ☑️ 勾选（如果需要）
- **确认DLL函数调用**: 根据需要选择

#### 风险管理（重要）：
- **最大风险**: 建议设置为账户余额的1-2%
- **每日最大亏损**: 设置适当的每日亏损限制

4. 点击 `确定` 启动EA

### 4. 监控EA运行

1. **图表右上角显示**：
   - 绿色笑脸 😊 = EA正常运行
   - 红色叉号 ❌ = EA停止或出错

2. **专家选项卡**：
   - 查看EA的运行日志
   - 监控交易信号和错误信息

3. **交易选项卡**：
   - 查看当前持仓
   - 监控订单状态

## FTMO Challenge注意事项

### 风险管理规则
- **每日亏损限制**: 不超过账户余额的5%
- **总亏损限制**: 不超过账户余额的10%
- **最小交易天数**: 至少4个交易日
- **利润目标**: 通常为8%（第一阶段）和5%（第二阶段）

### 建议设置
```
LotSize = 0.01          // 从小手数开始
StopLoss = 50-100       // 根据波动性调整
TakeProfit = 100-200    // 风险回报比1:2
```

### 交易时间
- **US100.cash交易时间**: 周一到周五，几乎24小时交易
- **避免重要新闻时段**: 美联储会议、非农数据等

## 故障排除

### 常见问题

1. **EA不交易**：
   - 检查算法交易是否启用
   - 确认账户有足够余额
   - 检查交易时间是否正确

2. **编译错误**：
   - 检查代码语法
   - 确保包含必要的头文件

3. **连接问题**：
   - 检查网络连接
   - 确认服务器连接状态

4. **品种无法交易**：
   - 确认US100.cash在您的经纪商可用
   - 检查品种规格和交易条件

## 免责声明

⚠️ **重要提醒**：
- 这是一个测试脚本，不包含实际的交易策略
- 在真实账户使用前，请在模拟账户充分测试
- 外汇交易存在风险，可能导致资金损失
- 请根据自己的风险承受能力调整参数

## 技术支持

如果遇到问题，请检查：
1. MT5版本是否最新
2. 经纪商是否支持EA交易
3. 账户类型是否允许算法交易
4. 网络连接是否稳定 